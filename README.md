# BookStorage - приложение «Библиотека»
*Домашнее задание к занятию «2.1. Express»*

**Правила выполнения домашней работы:** 
* выполняйте домашнее задание в отдельной ветке проекта на GitHub,
* в поле для сдачи работы прикрепите ссылку на ваш проект в Git,
* присылать на проверку можно каждую задачу по отдельности или все задачи вместе, 
* во время проверки по частям ваша домашняя работа будет обозначаться статусом «На доработке»,
* любые вопросы по решению задач задавайте в канале вашей группы.

#### Задание 1.1
Создать новый пустой проект и установить в него **express.js**. 


#### Задание 1.2
Разработать **API CRUD** для работы с сущностью *«книга»*. Каждый экземпляр книги должен содержать следующую структуру данных: 
```javascript
{
  id: "string",
  title: "string",
  description: "string",
  authors: "string",
  favorite: "string",
  fileCover: "string",
  fileName: "string"
}
``` 

### методы
Метод | URL | Действие | Комментарий
--- | --- | ---  | ---
`POST` | `/api/user/login` | авторизация пользователя | метод всегда возвращает **Code: 201** и статичный объект: `{ id: 1, mail: "test@mail.ru" }`
`GET` | `/api/books` | получить все книги | получаем массив всех книг
`GET` | `/api/books/:id` | получить книгу по **ID** | получаем объект книги, если запись не найдена, вернём **Code: 404** 
`POST` | `/api/books` | создать книгу | создаём книгу и возвращаем её же вместе с присвоенным **ID**
`PUT` | `/api/books/:id` | редактировать книгу по **ID** | редактируем объект книги, если запись не найдена, вернём **Code: 404**
`DELETE` | `/api/books/:id` | удалить книгу по **ID** | удаляем книгу и возвращаем ответ: **'ok'**

---


## Middleware. Паттерн "цепочка обязанностей"

#### Задание 2.1
Обновить структуру роутинга проекта с использованием **express.Router()**.


#### Задание 2.2
Установить в проект пакет [**multer**](https://github.com/expressjs/multer/blob/master/doc/README-ru.md)
и создать middleware для загрузки файла книги. 
Созданную middleware подключить и обработать в роутах создания данных о книге.

Каждый экземпляр книги должен содержать следующую структуру данных: 
```javascript
{
  id: "string",
  title: "string",
  description: "string",
  authors: "string",
  favorite: bool,
  fileCover: "string",
  fileName: "string",
  fileBook: "string"  //новое поле
}
``` 

#### Задание 2.3
Создать роут `GET: /api/books/:id/download`. 
Метод отдаёт на скачиваение файл книги по её **:id**.

